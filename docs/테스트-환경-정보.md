# 테스트 환경 정보

**작성일**: 2025-11-20  
**버전**: 1.0  
**환경**: 테스트 환경

---

## 📋 테스트 서버 정보

### 서버 1
- **서버 이름**: `auto-vm-test-01`
- **IP 주소**: `10.255.48.230`
- **서비스 종류**: 웹서버 (Port 80)
- **서비스 상태**: 정상 동작 중
- **Node Exporter 설치 여부**: ❌ 아니오 (설치 필요)
- **Node Exporter 포트**: 9100 (설치 후)

### 서버 2
- **서버 이름**: `auto-vm-test-02`
- **IP 주소**: `10.255.48.231`
- **서비스 종류**: 웹서버 (Port 80)
- **서비스 상태**: 정상 동작 중
- **Node Exporter 설치 여부**: ❌ 아니오 (설치 필요)
- **Node Exporter 포트**: 9100 (설치 후)

---

## 🌐 네트워크 정보

### IP Pool 정보
- **오토스케일링용 IP 범위 시작**: `10.255.48.220`
- **오토스케일링용 IP 범위 종료**: `10.255.48.225`
- **사용 가능한 IP 개수**: 6개 (220, 221, 222, 223, 224, 225)
- **서브넷**: `255.255.255.0` (/24)
- **서브넷 CIDR**: `10.255.48.0/24`
- **게이트웨이**: `10.255.48.1`
- **VLAN ID**: `Vlan-1048`

### IP 할당 현황
- **기존 서버 IP**:
  - `10.255.48.230` (auto-vm-test-01)
  - `10.255.48.231` (auto-vm-test-02)
- **오토스케일링용 IP Pool**: `10.255.48.220 ~ 10.255.48.225`
- **충돌 여부**: ✅ 기존 서버 IP와 겹치지 않음

---

## 🔧 F5 L4 Pool 정보

### Pool 기본 정보
- **Pool 이름**: `auto-vm-test-pool`
- **Load Balancing 알고리즘**: `Round Robin` (round-robin)
- **VLAN 이름**: `vlan_1048`
- **Health Monitor 타입**: `HTTP` (`/Common/http`)
- **Health Check 간격**: `5초`
- **Health Check 타임아웃**: `16초`
- **Health Check 경로**: `/` (루트 경로)

### Virtual Server (VIP) 정보
- **VIP 주소**: `10.255.48.229`
- **VIP 포트**: `80`
- **VIP 전체 주소**: `10.255.48.229:80`

### Pool Member 정보
- **기존 Member 목록**:
  - `10.255.48.230:80` (auto-vm-test-01)
  - `10.255.48.231:80` (auto-vm-test-02)
- **Member 개수**: 2개 (현재)
- **예상 추가 Member**: 오토스케일링 시 `10.255.48.220 ~ 10.255.48.225` 범위에서 할당

### Self IP 정보
- **Self IP 주소**: (선택사항, VIP와 같은 서브넷의 Self IP)
- **확인 필요**: VIP(`10.255.48.229`)와 같은 서브넷(`10.255.48.0/24`)에 Self IP가 있는지 확인

### F5 설정 요약
```
Pool: auto-vm-test-pool
VIP: 10.255.48.229:80
VLAN: vlan_1048
Load Balancing: Round Robin
Health Monitor: HTTP (/)
Health Check 간격: 5초
Health Check 타임아웃: 16초
기존 Members: 
  - 10.255.48.230:80
  - 10.255.48.231:80
```

---

## 📊 PLG Stack 모니터링 정보

### 현재 상태
- **Prometheus Job 등록**: ❌ 미등록 (등록 필요)
- **Node Exporter 설치**: ❌ 미설치 (설치 필요)

### 등록 예정 정보
- **Job 이름**: `auto-vm-test-service` (또는 사용자 지정)
- **모니터링 대상**:
  - `10.255.48.230:9100` (auto-vm-test-01)
  - `10.255.48.231:9100` (auto-vm-test-02)

---

## ✅ 준비 작업 체크리스트

### 1. Node Exporter 설치 (필수)
- [ ] auto-vm-test-01에 Node Exporter 설치
- [ ] auto-vm-test-02에 Node Exporter 설치
- [ ] Node Exporter 서비스 시작 및 자동 시작 설정
- [ ] 포트 9100 방화벽 오픈 확인

### 2. PLG Stack 모니터링 등록 (필수)
- [ ] Prometheus 설정에 새 Job 추가
- [ ] Prometheus 재시작
- [ ] 메트릭 수집 확인

### 3. F5 L4 Pool 정보 확인 (필수)
- [x] Pool 이름 확인: `auto-vm-test-pool`
- [x] VIP 주소 및 포트 확인: `10.255.48.229:80`
- [x] 기존 Member 목록 확인: `10.255.48.230:80`, `10.255.48.231:80`
- [x] Health Check 설정 확인: HTTP, 경로 `/`, 간격 5초, 타임아웃 16초
- [ ] Self IP 확인 (선택사항)

### 4. 서비스 상태 확인 (필수)
- [ ] 두 서버 모두 웹서버 정상 동작 확인
- [ ] Health Check 엔드포인트 확인 (예: `/health`)
- [ ] VIP를 통한 서비스 접속 확인

---

## 🚀 다음 단계

### 즉시 진행 가능한 작업
1. **Node Exporter 설치** 
   - 가이드: [Node Exporter 설치 가이드](./Node-Exporter-설치-가이드.md)
   - 대상: `10.255.48.230`, `10.255.48.231`

2. **PLG Stack 모니터링 등록**
   - 가이드: [PLG Stack 모니터링 등록 가이드](./PLG-Stack-모니터링-등록-가이드.md)
   - Job 이름: `auto-vm-test-service`
   - 대상: `10.255.48.230:9100`, `10.255.48.231:9100`

3. **F5 Self IP 확인** (선택사항)
   - VIP(`10.255.48.229`)와 같은 서브넷에 Self IP가 있는지 확인
   - 없어도 Virtual Server는 동작하지만, 확인 권장

### 오토스케일링 설정 준비
위 작업 완료 후:
4. **템플릿 생성**: 기존 서버 중 하나를 템플릿으로 변환
5. **오토스케일링 설정**: 웹 UI에서 설정 생성
6. **테스트**: 부하 증가 시나리오로 자동 스케일아웃 테스트

---

**작성자**: Dana Cloud Automation Team  
**최종 수정일**: 2025-11-20

